<ng-template #extraTemplate>
  <button nz-button nzType="default" (click)="back()">返回</button>
  <!-- <button nz-button nzType="primary" (click)="save()"style="margin-left: 10px">保存</button> -->
</ng-template>
<nz-card style="width: 100%;">
  <nz-card-tab>
    <nz-tabset nzSize="large">
      <nz-tab nzTitle="跌倒风险评估">
        <div id="dailyLife">
          <nz-card nzType="inner" nzTitle="" class="marginBottom24" [nzExtra]="extraTemplate">
            <div>
              <table border="1" class="dailyLife assessmentForm">
                <thead>
                  <tr>
                    <th><b>项目</b></th>
                    <th><b>参数</b></th>
                    <th><b>分值</b></th>
                    <th><b>测评结果</b></th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td rowspan="3"><b>下肢肌无力</b></td>
                    <td> 3~4级</td>
                    <td> 1</td>
                    <td rowspan="3">
                      <nz-select style="width: 120px;" [(ngModel)]="muscleWeakness" (ngModelChange)="addCount()"
                        nzAllowClear nzPlaceHolder="">
                        <nz-option nzValue="1" nzLabel="1"></nz-option>
                        <nz-option nzValue="2" nzLabel="2"></nz-option>
                        <nz-option nzValue="3" nzLabel="3"></nz-option>
                      </nz-select>分
                    </td>
                  </tr>
                  <tr>

                    <td> 0~2级</td>
                    <td> 2</td>
                  </tr>
                  <tr>
                    <td>5级</td>
                    <td> 3</td>
                  </tr>

                  <tr>
                    <td rowspan="2"><b>平衡协调</b></td>
                    <td> 功能障碍</td>
                    <td> 1</td>
                    <td rowspan="2">
                      <nz-select style="width: 120px;" [(ngModel)]="balanceCoordination" (ngModelChange)="addCount()"
                        nzAllowClear nzPlaceHolder="">
                        <nz-option nzValue="1" nzLabel="1"></nz-option>
                        <nz-option nzValue="2" nzLabel="2"></nz-option>
                      </nz-select>分
                    </td>

                  </tr>
                  <tr>
                    <td> 功能正常</td>
                    <td> 2</td>
                  </tr>


                  <tr>
                    <td rowspan="3"><b>年龄和性别</b></td>
                    <td> ≥60岁女性</td>
                    <td> 1</td>
                    <td rowspan="3">
                      <nz-select style="width: 120px;" [(ngModel)]="ageAndSex" (ngModelChange)="addCount()"
                        nzAllowClear nzPlaceHolder="">
                        <nz-option nzValue="1" nzLabel="1"></nz-option>
                        <nz-option nzValue="2" nzLabel="2"></nz-option>
                        <nz-option nzValue="3" nzLabel="3"></nz-option>
                      </nz-select>分
                    </td>
                  </tr>
                  <tr>

                    <td> ≥60岁男性</td>
                    <td> 2</td>
                  </tr>
                  <tr>
                    <td>
                      <60岁</td> <td> 3
                    </td>
                  </tr>

                  <tr>
                    <td rowspan="3"><b>营养</b></td>
                    <td> 不良</td>
                    <td> 1</td>
                    <td rowspan="3">
                      <nz-select style="width: 120px;" [(ngModel)]="nutrition" (ngModelChange)="addCount()"
                        nzAllowClear nzPlaceHolder="">
                        <nz-option nzValue="1" nzLabel="1"></nz-option>
                        <nz-option nzValue="2" nzLabel="2"></nz-option>
                        <nz-option nzValue="3" nzLabel="3"></nz-option>
                      </nz-select>分
                    </td>
                  </tr>
                  <tr>

                    <td> 中等</td>
                    <td> 2</td>
                  </tr>
                  <tr>
                    <td>良好</td>
                    <td> 3</td>
                  </tr>

                  <tr>
                    <td rowspan="2"><b>慢性病</b></td>
                    <td> 有</td>
                    <td> 1</td>
                    <td rowspan="2">
                      <nz-select style="width: 120px;" [(ngModel)]="chronicDisease" (ngModelChange)="addCount()"
                        nzAllowClear nzPlaceHolder="">
                        <nz-option nzValue="1" nzLabel="1"></nz-option>
                        <nz-option nzValue="2" nzLabel="2"></nz-option>
                      </nz-select>分
                    </td>
                  </tr>
                  <tr>
                    <td> 无</td>
                    <td> 2</td>
                  </tr>

                  <tr>
                    <td rowspan="2"><b>下肢骨折</b></td>
                    <td> 有</td>
                    <td> 1</td>
                    <td rowspan="2">
                      <nz-select style="width: 120px;" [(ngModel)]="fracture" (ngModelChange)="addCount()" nzAllowClear
                        nzPlaceHolder="">
                        <nz-option nzValue="1" nzLabel="1"></nz-option>
                        <nz-option nzValue="2" nzLabel="2"></nz-option>
                      </nz-select>分
                    </td>
                  </tr>
                  <tr>
                    <td> 无</td>
                    <td> 2</td>
                  </tr>

                  <tr>
                    <td rowspan="2"><b>睡眠</b></td>
                    <td> 失眠</td>
                    <td> 1</td>
                    <td rowspan="2">
                      <nz-select style="width: 120px;" [(ngModel)]="sleep" (ngModelChange)="addCount()" nzAllowClear
                        nzPlaceHolder="">
                        <nz-option nzValue="1" nzLabel="1"></nz-option>
                        <nz-option nzValue="2" nzLabel="2"></nz-option>
                      </nz-select>分
                    </td>
                  </tr>
                  <tr>
                    <td> 正常</td>
                    <td> 2</td>
                  </tr>

                  <tr>
                    <td rowspan="2"><b>视力</b></td>
                    <td> 下降</td>
                    <td> 1</td>
                    <td rowspan="2">
                      <nz-select style="width: 120px;" [(ngModel)]=" vision" (ngModelChange)="addCount()" nzAllowClear
                        nzPlaceHolder="">
                        <nz-option nzValue="1" nzLabel="1"></nz-option>
                        <nz-option nzValue="2" nzLabel="2"></nz-option>
                      </nz-select>分
                    </td>
                  </tr>
                  <tr>
                    <td> 正常</td>
                    <td> 2</td>
                  </tr>

                  <tr>
                    <td rowspan="2"><b>药物因素</b></td>
                    <td> 有</td>
                    <td> 1</td>
                    <td rowspan="2">
                      <nz-select style="width: 120px;" [(ngModel)]="drugFactors" (ngModelChange)="addCount()"
                        nzAllowClear nzPlaceHolder="">
                        <nz-option nzValue="1" nzLabel="1"></nz-option>
                        <nz-option nzValue="2" nzLabel="2"></nz-option>
                      </nz-select>分
                    </td>
                  </tr>
                  <tr>
                    <td> 无</td>
                    <td> 2</td>
                  </tr>

                  <tr>
                    <td rowspan="3"><b>助行器械</b></td>
                    <td> 无</td>
                    <td> 1</td>
                    <td rowspan="3">
                      <nz-select style="width: 120px;" [(ngModel)]="equipment" (ngModelChange)="addCount()"
                        nzAllowClear nzPlaceHolder="">
                        <nz-option nzValue="1" nzLabel="1"></nz-option>
                        <nz-option nzValue="2" nzLabel="2"></nz-option>
                        <nz-option nzValue="3" nzLabel="3"></nz-option>
                      </nz-select>分
                    </td>
                  </tr>
                  <tr>
                    <td> 拐杖</td>
                    <td> 2</td>
                  </tr>
                  <tr>
                    <td> 轮椅</td>
                    <td> 3</td>
                  </tr>

                  <tr>
                    <td rowspan="2"><b>跌倒史</b></td>
                    <td> 有</td>
                    <td> 1</td>
                    <td rowspan="2">
                      <nz-select style="width: 120px;" [(ngModel)]=" historyOfFalls" (ngModelChange)="addCount()"
                        nzAllowClear nzPlaceHolder="">
                        <nz-option nzValue="1" nzLabel="1"></nz-option>
                        <nz-option nzValue="2" nzLabel="2"></nz-option>
                      </nz-select>分
                    </td>
                  </tr>
                  <tr>
                    <td> 无</td>
                    <td> 2</td>
                  </tr>

                  <tr>
                    <td rowspan="2"><b>陪护</b></td>
                    <td> 无</td>
                    <td> 1</td>
                    <td rowspan="2">
                      <nz-select style="width: 120px;" [(ngModel)]="chaperonage " (ngModelChange)="addCount()"
                        nzAllowClear nzPlaceHolder="">
                        <nz-option nzValue="1" nzLabel="1"></nz-option>
                        <nz-option nzValue="2" nzLabel="2"></nz-option>
                      </nz-select>分
                    </td>
                  </tr>
                  <tr>
                    <td> 持续有</td>
                    <td> 2</td>
                  </tr>

                  <tr>
                    <td><b>总分</b></td>
                    <td> {{sum}}</td>
                    <td><b>等级：</b> </td>
                    <td>{{fallResults}}</td>
                  </tr>

                  <tr>
                    <td colspan="4" style="text-align: left">
                      <span>
                        评分在23~24分提示轻度危险；<br>评分在21~22分提示中度危险；<br>评分在18~20分提示高度危险；<br>评分≤17分提示极度危险，要求上报。<br>
                        老年人或亲属意见：以上评估情况属实，签名为证。
                      </span>
                    </td>
                  </tr>

                  <tr style="display:none">
                    <td>
                      <span>
                        老年人或亲属签字：
                      </span>
                    </td>
                    <td>
                      <input nz-input [(ngModel)]="signatureName" class="tumbleInput">
                    </td>
                    <td>
                      <span>
                        日期：
                      </span>
                    </td>
                    <td>
                      <!-- <nz-date-picker [(ngModel)]="date" nzShowTime></nz-date-picker> -->
                      <nz-date-picker nzFormat="yyyy-MM-dd" [(ngModel)]="date" class="w200"></nz-date-picker>
                    </td>
                  </tr>

                  <tr>
                    <td>
                      <span>
                        评估人：
                      </span>
                    </td>
                    <td>
                      <input nz-input [(ngModel)]="asser" class="tumbleInput">
                    </td>
                    <td>
                      <span>
                        评估日期：
                      </span>
                    </td>
                    <td>
                      <!-- <nz-date-picker [(ngModel)]="assDate" nzShowTime></nz-date-picker> -->
                      <nz-date-picker nzFormat="yyyy-MM-dd" [(ngModel)]="assDate" class="w200"></nz-date-picker>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </nz-card>
        </div>
        <div class="textRight" style="text-align:center">
          <button nz-button nzType="primary" (click)="showDeleteConfirm()" style="margin-left: 10px" [nzLoading]="isLoadingOne"
            class="saveBtn">保存</button>
        </div>
      </nz-tab>
    </nz-tabset>
  </nz-card-tab>

</nz-card>
