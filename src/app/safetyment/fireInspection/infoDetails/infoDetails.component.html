<ng-template #extraTemplate>
  <button nz-button nzType="default" (click)="back()">返回</button>
</ng-template>

<nz-card nzTitle="消防巡查详情" [nzExtra]="extraTemplate">
  <nz-card nzType="inner" nzTitle="配置信息" class="marginBottom24">
    <div nz-row nzAlign="middle" nzType="flex" nzGutter="16">
      <div nz-col nzSpan="4" style="text-align: right;">名称</div>
      <div nz-col nzSpan="18">
        <input
          nz-input
          placeholder="请输入巡查点名称"
          [(ngModel)]="infoDetaile.name"
          disabled
          style="width: 175px"
        />
      </div>
    </div>

    <div
      nz-row
      nzAlign="middle"
      nzType="flex"
      nzGutter="16"
      style="margin-top:5px;"
    >
      <div nz-col nzSpan="4" style="text-align: right;">是否配备</div>
      <div nz-col nzSpan="18">
        <label nz-checkbox [(ngModel)]="infoDetaile.hasHydrant" disabled
          >消防栓</label
        >
      </div>
    </div>

    <div
      nz-row
      nzAlign="middle"
      nzType="flex"
      nzGutter="16"
      style="margin-top:5px;"
      *ngIf="infoDetaile.hasHydrant"
    >
      <div nz-col nzSpan="4" style="text-align: right;"></div>
      <div nz-col nzSpan="18">
        <nz-checkbox-wrapper style="width: 100%;">
          <div nz-row>
            <div
              nz-col
              nzSpan="8"
              *ngFor="let item of infoDetaile.hydrant; let i = index"
            >
              <label
                nz-checkbox
                nzValue="item.value"
                [(ngModel)]="item.checked"
                disabled
                >{{ item.label }}</label
              >
            </div>
          </div>
        </nz-checkbox-wrapper>
      </div>
    </div>

    <div
      nz-row
      nzAlign="middle"
      nzType="flex"
      nzGutter="16"
      style="margin-top:5px;"
    >
      <div nz-col nzSpan="4" style="text-align: right;"></div>
      <div nz-col nzSpan="18">
        <label
          nz-checkbox
          [(ngModel)]="infoDetaile.hasFireExtinguisher"
          disabled
          >灭火器</label
        >
      </div>
    </div>
    <div
      nz-row
      nzAlign="middle"
      nzType="flex"
      nzGutter="16"
      style="margin-top:5px;"
    >
      <div nz-col nzSpan="4" style="text-align: right;"></div>
      <div nz-col nzSpan="18" *ngIf="infoDetaile.feList.length>0" >已绑定{{infoDetaile.feList.length}}个灭火器</div>
    </div>
    <div
      nz-row
      nzAlign="middle"
      nzType="flex"
      nzGutter="16"
      style="margin-top:5px;"
    >
      <div nz-col nzSpan="4" style="text-align: right;"></div>
      <div nz-col nzSpan="18">
          <table *ngIf="infoDetaile.feList.length>0" style="width:50%;border:1px solid #efefef">
            <thead>
              <tr>
                <th class="textCenter">灭火器类型</th>
                <th class="textCenter">出厂日期</th>
                <th class="textCenter">到期年限</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let data of infoDetaile.feList">
                <td>{{data.fireType}}</td>
                <td>{{data.productionDate}}</td>
                <td>{{data.expiry}}</td>
              </tr>
            </tbody>
          </table>
      </div>
    </div>
   
    <div
      nz-row
      nzAlign="middle"
      nzType="flex"
      nzGutter="16"
      style="margin-top:5px;"
      *ngIf="infoDetaile.hasFireExtinguisher"
    >
      <div nz-col nzSpan="4" style="text-align: right;"></div>
      <div nz-col nzSpan="18">
        数量
        <nz-input-number
          [(ngModel)]="infoDetaile.linkedFireExtinguisherNum"
          [nzMin]="0"
          [nzMax]="100"
          [nzStep]="1"
          style="width: 175px"
          disabled
        ></nz-input-number>
      </div>
    </div>
    
    <div
      nz-row
      nzAlign="middle"
      nzType="flex"
      nzGutter="16"
      style="margin-top:5px;"
    >
      <div nz-col nzSpan="4" style="text-align: right;"></div>
      <div nz-col nzSpan="18">
        <label nz-checkbox [(ngModel)]="infoDetaile.hasOther" disabled
          >其他</label
        >
      </div>
    </div>

    <div
      nz-row
      nzAlign="middle"
      nzType="flex"
      nzGutter="16"
      *ngIf="infoDetaile.hasOther"
    >
      <div nz-col nzSpan="4" style="text-align: right;"></div>
      <div nz-col nzSpan="18">
        <div nz-row nzGutter="16" style="margin-top: 5px">
          <div nz-col nzSpan="18">
            <div nz-row nzGutter="16">
              <div
                nz-col
                nzSpan="8"
                *ngFor="
                  let otherItem of infoDetaile.otherFalicities;
                  let i = index
                "
              >
                <input
                  nz-input
                  placeholder="请输入其他配备项名称"
                  [(ngModel)]="otherItem.item"
                  maxlength="15"
                  disabled
                  style="width: 175px"
                />
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </nz-card>

  <nz-card
    nzType="inner"
    nzTitle="巡查信息"
    class="marginBottom24"
    style="margin-top:5px;"
  >
    <div nz-row nzAlign="middle" nzType="flex" nzGutter="16">
      <div nz-col nzSpan="4" style="text-align: right;">巡查时间</div>
      <div nz-col nzSpan="18">
        <input
          nz-input
          [(ngModel)]="patrolDetails.updateDate"
          style="width: 175px"
          ng-disabled="true"
          disabled
        />
      </div>
    </div>

    <div
      nz-row
      nzAlign="middle"
      nzType="flex"
      nzGutter="16"
      style="margin-top:5px;"
    >
      <div nz-col nzSpan="4" style="text-align: right;">巡查结果</div>
      <div nz-col nzSpan="18">
        <span *ngIf="patrolDetails.isQualified == false" class="spanDex"
          >不合格</span
        >
        <span *ngIf="patrolDetails.isQualified == true" class="spanDex"
          >合格</span
        >
      </div>
    </div>
    <div
      nz-row
      nzAlign="middle"
      nzType="flex"
      nzGutter="16"
      style="margin-top:5px;"
    >
      <div nz-col nzSpan="4" style="text-align: right;">巡查人</div>
      <div nz-col nzSpan="18">
        <span  class="spanDex">{{patrolDetails.noteTaker}}</span
        >
      </div>
    </div>

    <div
      nz-row
      nzAlign="top"
      nzType="flex"
      nzGutter="16"
      style="margin-top:5px;"
    >
      <div nz-col nzSpan="4" style="text-align: right;">巡查详情</div>
      <div nz-col nzSpan="12">
        <textarea
          nz-input
          placeholder="查询备注"
          [(ngModel)]="patrolDetails.ffdmemo"
          [nzAutosize]="{ minRows: 2, maxRows: 10 }"
          class="labelStyle"
          disabled
        ></textarea>
      </div>
    </div>

    <div
      nz-row
      nzAlign="top"
      nzType="flex"
      nzGutter="16"
      style="margin-top:5px;"
    >
      <div nz-col nzSpan="4" style="text-align: right;">现场照片</div>
      <div nz-col nzSpan="18">
        <div nz-row nzGutter="16">
          <div nz-col nzSpan="12" *ngFor="let item of urlArray">
            <img src="{{item}}" style="width:100%" />
          </div>
        </div>
      </div>
    </div>
  </nz-card>
</nz-card>
