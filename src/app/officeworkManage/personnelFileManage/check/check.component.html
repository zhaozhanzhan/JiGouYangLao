<!-- 基本信息的返回接口 -->
<ng-template #basicInfoBtn>
    <button nz-button nzType="default" class="mr20" (click)="back()">返回</button>
  </ng-template>
  
  <!-- 添加个人信息中的紧急联系人 -->
  <ng-template #addPersonalInfo>
    <!-- <button nz-button nzType="primary" (click)="addPersonal('add')">添加紧急联系人</button> -->
  </ng-template>
  
  <!-- 工作信息返回 -->
  <ng-template #jobsInfoBtn>
    <button nz-button nzType="default" class="mr20" (click)="back()">返回</button>
  </ng-template>
  <ng-template #addjobsInfoBtn>
    <!-- <button nz-button nzType="primary" (click)="addJobInfo('add')">
      添加工作经验</button> -->
  </ng-template>
  
  <!-- 合同信息 -->
  <ng-template #contractInfoBtn>
    <!-- <button nz-button nzType="primary" (click)="addContractInfo(addContractDialogTplTitle,addContractDialogTplContent,addContractDialogTplFooter)" style="margin-right:5px;">添加合同信息</button> -->
    <button nz-button nzType="default" class="mr20" (click)="back()">返回</button>
  </ng-template>
  
  <!-- 证书信息 -->
  <ng-template #certificateInfoBtn>
    <!-- <button nz-button nzType="primary" (click)="addCertificateInfo(addCertificateDialogTplTitle,addCertificateDialogTplContent,addCertificateDialogTplFooter)" style="margin-right:5px;">添加证书信息</button> -->
    <button nz-button nzType="default" class="mr20" (click)="back()">返回</button>
  </ng-template>
  
  
  <!-- 培训信息 -->
  <ng-template #trainingInfoBtn>
    <!-- <button nz-button nzType="primary" (click)="addTrainingInfo()" style="margin-right:5px;">添加培训信息</button> -->
    <button nz-button nzType="default" class="mr20" (click)="back()">返回</button>
  </ng-template>
  
  
  <!-- 获奖信息 -->
  <ng-template #winningInfoBtn>
    <!-- <button nz-button nzType="primary" (click)="addwinningInfo()" style="margin-right:5px;">添加获奖信息</button> -->
    <button nz-button nzType="default" class="mr20" (click)="back()">返回</button>
  </ng-template>
  
  
  
  <ng-template #titleArea>
    <div>
      <p><span>人员档案详情</span></p>
    </div>
  </ng-template>
  
  <nz-card [nzTitle]="titleArea">
    <nz-tabset nzSize="large" [(nzSelectedIndex)]="tabIndex">
      <nz-tab nzTitle="基本信息">
        <form nz-form [formGroup]="basicInfoFormData">
          <nz-card nzType="inner" nzTitle="基本信息" [nzExtra]="basicInfoBtn">
            <div nz-row [nzGutter]="24">
              <div nz-col [nzSpan]="8">
                <nz-form-item>
                  <nz-form-label [nzSpan]="8" nzFor="name" nzRequired> 姓名</nz-form-label>
                  <nz-form-control [nzSpan]="16">
                    <input nz-input maxlength="32" formControlName="name" id="name"  readonly/>
                    <nz-form-explain *ngIf="basicInfoFormData.get('name').dirty && basicInfoFormData.get('name').errors">姓名不能为空</nz-form-explain>
                  </nz-form-control>
                </nz-form-item>
              </div>
  
              <div nz-col [nzSpan]="8">
                <nz-form-item>
                  <nz-form-label [nzSpan]="8" nzFor="sex" nzRequired>性别</nz-form-label>
                  <nz-form-control [nzSpan]="16">
                    <!-- <nz-select nzAllowClear nzPlaceHolder="请选择性别" formControlName="sex" id="sex" nzDisabled>
                          <nz-option nzValue="男" nzLabel="男"></nz-option>
                          <nz-option nzValue="女" nzLabel="女"></nz-option>
                  </nz-select> -->
                  <input nz-input  formControlName="sex" id="sex"  readonly/>
                  <nz-form-explain *ngIf="basicInfoFormData.get('sex').dirty && basicInfoFormData.get('sex').errors">性别不能为空</nz-form-explain>
                </nz-form-control>
  
                </nz-form-item>
              </div>
  
              <div nz-col [nzSpan]="8">
                <nz-form-item>
                  <nz-form-label [nzSpan]="8" nzFor="birthday" >出生日期</nz-form-label>
                  <nz-form-control [nzSpan]="16">
                      <!-- <nz-date-picker nzFormat="yyyy-MM-dd" formControlName="birthday" id="birthday" nzDisabled></nz-date-picker> -->
                      <input nz-input  formControlName="birthday" id="birthday"  readonly/>
                  </nz-form-control>
                </nz-form-item>
              </div>
              <div nz-col [nzSpan]="8">
                <nz-form-item>
                  <nz-form-label [nzSpan]="8" nzFor="idCard" nzRequired>身份证号</nz-form-label>
                  <nz-form-control [nzSpan]="16">
                    <input nz-input maxlength="18" formControlName="idCard" id="idCard" readonly/>
                    <nz-form-explain *ngIf="basicInfoFormData.get('idCard').dirty && basicInfoFormData.get('idCard').errors">身份证号不能为空</nz-form-explain>
                  </nz-form-control>
                </nz-form-item>
              </div>
              <div nz-col [nzSpan]="8">
                <nz-form-item>
                  <nz-form-label [nzSpan]="8" nzFor="phone" nzRequired>手机号码</nz-form-label>
                  <nz-form-control [nzSpan]="16">
                    <input nz-input maxlength="11" formControlName="phone" id="phone" readonly/>
                    <nz-form-explain *ngIf="basicInfoFormData.get('phone').dirty && basicInfoFormData.get('phone').errors">手机号码不能为空</nz-form-explain>
                  </nz-form-control>
                </nz-form-item>
              </div>
              <div nz-col [nzSpan]="8">
                <nz-form-item>
                  <nz-form-label [nzSpan]="8" nzFor="fixTel">固定电话</nz-form-label>
                  <nz-form-control [nzSpan]="16">
                    <input nz-input maxlength="10" formControlName="fixTel" id="fixTel" readonly/>
                  </nz-form-control>
                </nz-form-item>
              </div>
  
              <div nz-col [nzSpan]="8">
                <nz-form-item>
                  <nz-form-label [nzSpan]="8" nzFor="departmentId">部门</nz-form-label>
                  <nz-form-control [nzSpan]="16">
                    <!-- <nz-tree-select class="w100p" [nzNodes]="goodsClassificationNodes" [nzDisabled]='true' nzShowSearch [nzPlaceHolder]="reqObjGoodName"
                      formControlName="departmentId" id="departmentId">
                    </nz-tree-select> -->

                    <input nz-input    [(ngModel)]="reqObjGoodName"  formControlName="departmentId" id="departmentId" readonly/>
                  </nz-form-control>
                </nz-form-item>
              </div>
              <div nz-col [nzSpan]="8">
                <nz-form-item>
                  <nz-form-label [nzSpan]="8" nzFor="personType" nzRequired>人员类型</nz-form-label>
                  <nz-form-control [nzSpan]="16">
                    <nz-select nzAllowClear nzPlaceHolder="请选择人员类型"  nzDisabled   formControlName="personType"
                      id="personType">
                      <nz-option nzValue="0" nzLabel="医生"></nz-option>
                      <nz-option nzValue="1" nzLabel="护理人员"></nz-option>
                      <nz-option nzValue="2" nzLabel="护士"></nz-option>
                      <nz-option nzValue="3" nzLabel="普通职员"></nz-option>
                      <nz-option nzValue="4" nzLabel="其他人员"></nz-option>
                      <nz-option nzValue="5" nzLabel="管理人员"></nz-option>
                    </nz-select>
                    
                    <nz-form-explain *ngIf="basicInfoFormData.get('personType').dirty && basicInfoFormData.get('personType').errors">人员类型不能为空</nz-form-explain>
                  </nz-form-control>
                </nz-form-item>
              </div>
              <div nz-col [nzSpan]="8" >
                <nz-form-item>
                  <nz-form-label [nzSpan]="8" nzFor="isMonitor">是否班长</nz-form-label>
                  <nz-form-control [nzSpan]="16">
                    <nz-select formControlName="isMonitor" id="isMonitor"  nzDisabled nzAllowClear nzPlaceHolder="请选择工作状态">
                      <nz-option nzValue="true" nzLabel="是"></nz-option>
                      <nz-option nzValue="false" nzLabel="否"></nz-option>
                    </nz-select>
                  </nz-form-control>
                </nz-form-item>
              </div>
              <div nz-col [nzSpan]="8">
                <nz-form-item>
                  <nz-form-label [nzSpan]="8" nzFor="comeDate" >入职时间</nz-form-label>
                  <nz-form-control [nzSpan]="16">
                    <nz-date-picker nzFormat="yyyy-MM-dd"  nzDisabled formControlName="comeDate" id="comeDate"></nz-date-picker>
                  </nz-form-control>
                </nz-form-item>
              </div>
              <div nz-col [nzSpan]="8">
                <nz-form-item>
                  <nz-form-label [nzSpan]="8" nzFor="jobs">岗位</nz-form-label>
                  <nz-form-control [nzSpan]="16">
                    <input nz-input maxlength="32" formControlName="jobs" id="jobs" readonly/>
                  </nz-form-control>
                </nz-form-item>
              </div>
              <div nz-col [nzSpan]="8">
                <nz-form-item>
                  <nz-form-label [nzSpan]="8" nzFor="position">现在职务</nz-form-label>
                  <nz-form-control [nzSpan]="16">
                    <input nz-input maxlength="32" formControlName="position" id="position" readonly/>
                  </nz-form-control>
                </nz-form-item>
              </div>
              <div nz-col [nzSpan]="8" *ngIf="status=='1'">
                <nz-form-item>
                  <nz-form-label [nzSpan]="8" nzFor="leaveDate">离职时间</nz-form-label>
                  <nz-form-control [nzSpan]="16">
                    <nz-date-picker formControlName="leaveDate" id="leaveDate"  [(ngModel)]="leaveDate" nzDisabled></nz-date-picker>
                  </nz-form-control>
                </nz-form-item>
              </div>
  
            </div>
            <div nz-row [nzGutter]="24">
              <div nz-col [nzSpan]="16">
                <nz-form-item>
                  <nz-form-label [nzSpan]="4">照片</nz-form-label>
                  <nz-form-control [nzSpan]="18">
                    <mirr-image isShowUploadBtn="false" isShowDelBtn="false" isShowOcrBtn="false" [imageUrlStr]="logoImgsStr"  #logoImage></mirr-image>
                   
                    <!-- <span *ngFor="let item of logoImgsStrList" >
                        <img  alt="" [src]="item" style="width:60%">
                    </span> -->
                  
                    
                  </nz-form-control>
                </nz-form-item>
              </div>
            </div>
          </nz-card>
        </form>
      </nz-tab>
      <nz-tab nzTitle="个人信息"  >
        <form nz-form [formGroup]="personalInfoormData">
          <nz-card nzType="inner" nzTitle="个人信息" [nzExtra]="basicInfoBtn">
            <div nz-row [nzGutter]="24">
              <div nz-col [nzSpan]="8">
                <nz-form-item>
                  <nz-form-label [nzSpan]="8" nzFor="folk">民族</nz-form-label>
                  <nz-form-control [nzSpan]="16">
                    <nz-select nzShowSearch nzAllowClear nzPlaceHolder="请选择"  nzDisabled formControlName="folk" id="folk">
                      <nz-option *ngFor="let option of folkList" [nzLabel]="option.dictTag" [nzValue]="option.dictValue">
                      </nz-option>
                    </nz-select>
                  </nz-form-control>
                </nz-form-item>
              </div>
              <div nz-col [nzSpan]="8">
                <nz-form-item>
                  <nz-form-label [nzSpan]="8" nzFor="married">婚姻状况</nz-form-label>
                  <nz-form-control [nzSpan]="16">
                    <nz-select nzShowSearch nzAllowClear nzPlaceHolder="请选择"  nzDisabled formControlName="married" id="married">
                      <nz-option nzLabel="未婚" nzValue="未婚"></nz-option>
                      <nz-option nzLabel="已婚" nzValue="已婚"></nz-option>
                      <nz-option nzLabel="丧偶" nzValue="丧偶"></nz-option>
                      <nz-option nzLabel="离婚" nzValue="离婚"></nz-option>
                    </nz-select>
                  </nz-form-control>
                </nz-form-item>
              </div>
              <div nz-col [nzSpan]="8">
                <nz-form-item>
                  <nz-form-label [nzSpan]="8" nzFor="education">文化程度</nz-form-label>
                  <nz-form-control [nzSpan]="16">
                    <nz-select nzShowSearch nzAllowClear nzPlaceHolder="请选择"  nzDisabled formControlName="education" id="education">
                      <nz-option *ngFor="let option of educationtList" [nzLabel]="option.dictTag" [nzValue]="option.dictValue">
                      </nz-option>
                    </nz-select>
                  </nz-form-control>
                </nz-form-item>
              </div>
  
              <div nz-col [nzSpan]="8">
                <nz-form-item>
                  <nz-form-label [nzSpan]="8" nzFor="politics">政治面貌</nz-form-label>
                  <nz-form-control [nzSpan]="16">
                    <nz-select nzShowSearch nzAllowClear nzPlaceHolder="请选择"   nzDisabled formControlName="politics" id="politics">
                      <nz-option *ngFor="let option of politicsList" [nzLabel]="option.dictTag" [nzValue]="option.dictValue">
                      </nz-option>
                    </nz-select>
                  </nz-form-control>
                </nz-form-item>
              </div>
              <div nz-col [nzSpan]="8">
                <nz-form-item>
                  <nz-form-label [nzSpan]="8" nzFor="nativePlace">籍贯</nz-form-label>
                  <nz-form-control [nzSpan]="16">
                    <input nz-input maxlength="32" formControlName="nativePlace" id="nativePlace" readonly/>
                  </nz-form-control>
                </nz-form-item>
              </div>
            </div>
            <div nz-row [nzGutter]="24">
              <div nz-col [nzSpan]="16">
                <nz-form-item>
                  <nz-form-label [nzSpan]="4" nzFor="populace">户籍地址</nz-form-label>
                  <nz-form-control [nzSpan]="20">
                    <input nz-input maxlength="100" formControlName="populace" id="populace" readonly/>
                  </nz-form-control>
                </nz-form-item>
              </div>
  
              <div nz-col [nzSpan]="16">
                <nz-form-item>
                  <nz-form-label [nzSpan]="4" nzFor="adds">家庭住址</nz-form-label>
                  <nz-form-control [nzSpan]="20">
                    <input nz-input maxlength="100" formControlName="adds" id="adds" readonly/>
                  </nz-form-control>
                </nz-form-item>
              </div>
              <div nz-col [nzSpan]="16">
                <nz-form-item>
                  <nz-form-label [nzSpan]="4" nzFor="adds">备注</nz-form-label>
                  <nz-form-control [nzSpan]="20">
                    <textarea rows="4" nz-input formControlName="comment" readonly id="comment"></textarea>
                  </nz-form-control>
                </nz-form-item>
              </div>
            </div>
            <div nz-row [nzGutter]="24">
              <div nz-col [nzSpan]="16">
                <nz-form-item>
                  <nz-form-label [nzSpan]="4">证明材料</nz-form-label>
                  <nz-form-control [nzSpan]="20">
                    <mirr-image isShowUploadBtn="false" isShowDelBtn="false" isShowOcrBtn="false" [imageUrlStr]="idCardPicImgUrl" #idCardPicImg></mirr-image>
                    <!-- <span *ngFor="let item of idCardPicImgUrlList" >
                        <img  alt="" [src]="item" style="width:60%">
                    </span> -->
                  </nz-form-control>
                </nz-form-item>
              </div>
            </div>
          </nz-card>
          <nz-card nzType="inner" nzTitle="紧急联系人" [nzExtra]="addPersonalInfo" class="marginBottom24">
            <nz-table #personalInfoTable [nzData]="personalInfoList" [nzHideOnSinglePage]="true" nzBordered
              [nzFrontPagination]="false">
              <thead>
                <tr>
                  <th>姓名</th>
                  <th>联系电话</th>
                  <th>亲属关系</th>
                  <th>备注</th>
                  <th>操作</th>
                </tr>
              </thead>
  
              <tbody>
                <tr *ngFor="let item of personalInfoTable.data;let i=index">
                  <td>{{item.name}}</td>
                  <td>{{item.phone}}</td>
                  <td>{{item.domesticCelation}}</td>
                  <td>{{item.comment}}</td>
                  <td>
                    <a href="#" (click)="modifierEmergencyContact(i,item,'edit',$event)">查看</a>
                    <!-- <nz-divider nzType="vertical"></nz-divider>
                    <a href="#" (click)="delEmergencyContact(i,$event)" style="color:red">删除</a> -->
                  </td>
                </tr>
              </tbody>
            </nz-table>
          </nz-card>
        </form>
  
  
  
      </nz-tab>
      <nz-tab nzTitle="工作信息">
        <!-- <app-personnelFile-jobInfo></app-personnelFile-jobInfo> -->
        <form nz-form [formGroup]="jobInfoFormData">
          <nz-card nzType="inner" nzTitle="工作基本信息" class="marginBottom24" [nzExtra]="jobsInfoBtn">
            <div nz-row [nzGutter]="24">
              <div nz-col [nzSpan]="12">
                <nz-form-item>
                  <nz-form-label [nzSpan]="8" nzFor="professionalCategory">专业类型</nz-form-label>
                  <nz-form-control [nzSpan]="16">
                    <input nz-input maxlength="32" formControlName="professionalCategory" id="professionalCategory" readonly/>
                  </nz-form-control>
                </nz-form-item>
              </div>
              <div nz-col [nzSpan]="12">
                <nz-form-item>
                  <nz-form-label [nzSpan]="8" nzFor="profession">所学专业</nz-form-label>
                  <nz-form-control [nzSpan]="16">
                    <input nz-input maxlength="32" formControlName="profession" id="profession" readonly/>
                  </nz-form-control>
                </nz-form-item>
              </div>
              <div nz-col [nzSpan]="12">
                <nz-form-item>
                  <nz-form-label [nzSpan]="8" nzFor="title">职称</nz-form-label>
                  <nz-form-control [nzSpan]="16">
                    <input nz-input maxlength="32" formControlName="title" id="title" readonly/>
                  </nz-form-control>
                </nz-form-item>
              </div>
  
              <div nz-col [nzSpan]="12">
                <nz-form-item>
                  <nz-form-label [nzSpan]="8" nzFor="workTime">参加工作时间</nz-form-label>
                  <nz-form-control [nzSpan]="16">
                    <nz-date-picker formControlName="workTime" id="workTime"   nzDisabled style="width:100%"></nz-date-picker>
                  </nz-form-control>
                </nz-form-item>
              </div>
              <div nz-col [nzSpan]="12">
                <nz-form-item>
                  <nz-form-label [nzSpan]="8" nzFor="workExperienceYears">相关工作年限</nz-form-label>
                  <nz-form-control [nzSpan]="16">
                    <nz-input-number [nzMin]="1" [nzMax]="100" [nzStep]="1"   nzDisabled style="width:100%" formControlName="workExperienceYears"
                      id="workExperienceYears"></nz-input-number>
                  </nz-form-control>
                </nz-form-item>
              </div>
  
  
              <div nz-col [nzSpan]="12">
                <nz-form-item>
                  <nz-form-label [nzSpan]="8" nzFor="workExperienceYears">薪资范围</nz-form-label>
                  <nz-form-control [nzSpan]="16">
                    <nz-select style="width: 100%;" formControlName="salaryRange" nzDisabled  id="salaryRange" nzAllowClear
                      nzPlaceHolder="Choose">
                      <nz-option nzValue="0" nzLabel="1000~2000">1000~2000</nz-option>
                      <nz-option nzValue="1" nzLabel="2000~3000">2000~3000</nz-option>
                      <nz-option nzValue="2" nzLabel="3000~4000">3000~4000</nz-option>
                      <nz-option nzValue="3" nzLabel="4000~5000">4000~5000</nz-option>
                      <nz-option nzValue="4" nzLabel="5000~6000">5000~6000</nz-option>
                      <nz-option nzValue="5" nzLabel="6000~7000">6000~7000</nz-option>
                      <nz-option nzValue="6" nzLabel="7000~8000">7000~8000</nz-option>
                      <nz-option nzValue="7" nzLabel="8000以上">8000以上</nz-option>
                    </nz-select>
                  </nz-form-control>
                </nz-form-item>
              </div>
  
            </div>
            <div nz-row [nzGutter]="24">
              <div nz-col [nzSpan]="24">
                <nz-form-item>
                  <nz-form-label [nzSpan]="4" nzFor="otherTreatment">其他待遇</nz-form-label>
                  <nz-form-control [nzSpan]="20">
                    <textarea rows="4" nz-input formControlName="otherTreatment"  readonly id="otherTreatment"></textarea>
                  </nz-form-control>
                </nz-form-item>
              </div>
              <div nz-col [nzSpan]="24" style="margin-top: 13px !important;">
                <nz-form-item>
                  <nz-form-label [nzSpan]="4" nzFor="comment">备注</nz-form-label>
                  <nz-form-control [nzSpan]="20">
                    <textarea rows="4" nz-input formControlName="comment"  id="comment" readonly></textarea>
                  </nz-form-control>
                </nz-form-item>
              </div>
            </div>
          </nz-card>
  
          <nz-card nzType="inner" nzTitle="工作经验" [nzExtra]="addjobsInfoBtn" class="marginBottom24">
            <nz-table #jobsInfoTable [nzData]="emergencyContactList" [nzHideOnSinglePage]="true" nzBordered
              [nzFrontPagination]="false">
              <thead>
                <tr>
                  <th>入职时间</th>
                  <th>离职时间</th>
                  <th>所在单位</th>
                  <th>操作</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let item of jobsInfoTable.data;let i=index">
                  <td>{{item.etime}}</td>
                  <td>{{item.resignationTime}}</td>
                  <td>{{item.unit}}</td>
                  <td>
                    <a href="#" (click)="modifierJobInfo(i,item,'edit',$event)">查看</a>
                    
                  </td>
                </tr>
              </tbody>
            </nz-table>
          </nz-card>
        </form>
  
  
  
      </nz-tab>
      <nz-tab nzTitle="合同信息"  >
        <form nz-form>
          <nz-card nzType="inner" nzTitle="合同信息列表" [nzExtra]="contractInfoBtn" class="marginBottom24">
            <nz-table #contractInfoTable [nzData]="ContractInfoList" [nzHideOnSinglePage]="true" nzBordered
              [nzFrontPagination]="false">
              <thead>
                <tr>
                  <th>合同起始日期</th>
                  <th>合同结束日期</th>
                  <th>备注</th>
                  <th>操作</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let item of contractInfoTable.data;let i=index">
                  <td>{{item.startDate}}</td>
                  <td>{{item.endDate}}</td>
                  <td>{{item.comment}}</td>
                  <td>
                    <a href="#" (click)="modifierContractInfo(addContractDialogTplTitle,addContractDialogTplContent,addContractDialogTplFooter,item.id,$event)">查看</a>
                    
                  </td>
                </tr>
              </tbody>
            </nz-table>
          </nz-card>
        </form>
      </nz-tab>
      <nz-tab nzTitle="证书信息"  >
        <form nz-form>
          <nz-card nzType="inner" nzTitle="证书信息列表" [nzExtra]="certificateInfoBtn" class="marginBottom24">
            <nz-table #centificateInfoTable [nzData]="CertificateInfoList" [nzHideOnSinglePage]="true" nzBordered
              [nzFrontPagination]="false">
              <thead>
                <tr>
                  <th>资格证书名称</th>
                  <th>发证时间</th>
                  <th>发证单位</th>
                  <th>证书状态</th>
                  <th>操作</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let item of centificateInfoTable.data;let i=index">
                  <td>
                    <span *ngIf="item.certStatus=='0' || item.certStatus=='2'">{{item.certName}}</span>
                    <span *ngIf="item.certStatus=='1'" style="color:red">{{item.certName}}</span>
                  </td>
                  <td>{{item.issuingTime}}</td>
                  <td>{{item.certOrganName}}</td>
                  <td>
                    <span *ngIf="item.certStatus=='0'">有效</span>
                    <span *ngIf="item.certStatus=='1'">过期</span>
                    <span *ngIf="item.certStatus=='2'">取消</span>
                  </td>
                  <td>
                    <a href="#" (click)="modifierCertificateInfo(addCertificateDialogTplTitle,addCertificateDialogTplContent,addCertificateDialogTplFooter,item,$event)">查看</a>
                    <!-- <nz-divider nzType="vertical"></nz-divider>
                    <a href="#" (click)="cancelCertificateInfo(item.id,$event)" *ngIf="item.certStatus=='0' || item.certStatus=='1'">证书取消</a>
                    <a href="#" (click)="checkCertificateInfo(item.cancelReason,$event)" *ngIf="item.certStatus=='2'">查看证书取消原因</a> -->
                    
                  </td>
                </tr>
              </tbody>
            </nz-table>
          </nz-card>
        </form>
        <!-- 取消证书 -->
        <nz-modal [(nzVisible)]="certificateInfoVisible" nzWidth="600" nzTitle="证书取消详情" (nzOnCancel)="certificateCancel()"
          (nzOnOk)="certificateOk()">
          <form nz-form>
            <div nz-row [nzGutter]="24">
              <div nz-col [nzSpan]="24">
                <nz-form-item>
                  <nz-form-label [nzSpan]="6">证书取消原因</nz-form-label>
                  <nz-form-control [nzSpan]="18">
                    <textarea rows="4" nz-input name="cancelReason" [(ngModel)]="cancelObj.cancelReason" readonly></textarea>
                  </nz-form-control>
                </nz-form-item>
              </div>
            </div>
          </form>
        </nz-modal>
      </nz-tab>
      <nz-tab nzTitle="培训信息"  >
        <!-- <app-personnelFile-trainingInfo></app-personnelFile-trainingInfo> -->
        <form nz-form>
          <nz-card nzType="inner" nzTitle="培训信息列表" [nzExtra]="trainingInfoBtn" class="marginBottom24">
            <nz-table #trainingInfoTable [nzData]="trainingInfoList" [nzHideOnSinglePage]="true" nzBordered
              [nzFrontPagination]="false">
              <thead>
                <tr>
                  <th>培训证书名称</th>
                  <th>培训证书编号</th>
                  <th>专业培训单位</th>
                  <th>专业培训开始时间</th>
                  <th>专业培训结束时间</th>
                  <th>操作</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let trainingInfoItem of trainingInfoTable.data;let i=index">
                  <td>
                    <span>{{trainingInfoItem.trainCertName}}</span>
                  </td>
                  <td>{{trainingInfoItem.certNumber}}</td>
                  <td>{{trainingInfoItem.trainCertComp}}</td>
                  <td>{{trainingInfoItem.startDate}}</td>
                  <td>{{trainingInfoItem.endDate}}</td>
                  <td>
                    <a href="#" (click)="modifierTrainingInfo(trainingInfoItem,$event)">查看</a>
                    <!-- <nz-divider nzType="vertical"></nz-divider>
                    <a href="#" (click)="deleteTrainingInfo(trainingInfoItem.id,$event)" style="color:red">删除</a> -->
                  </td>
                </tr>
              </tbody>
            </nz-table>
          </nz-card>
        </form>
      </nz-tab>
      <nz-tab nzTitle="获奖信息" >
        <!-- <app-personnelFile-winningInfo></app-personnelFile-winningInfo> -->
        <form nz-form>
          <nz-card nzType="inner" nzTitle="获奖信息列表" [nzExtra]="winningInfoBtn" class="marginBottom24">
            <nz-table #winningInfoTable [nzData]="winningInfoList" [nzHideOnSinglePage]="true" nzBordered
              [nzFrontPagination]="false">
              <thead>
                <tr>
                  <th>发奖单位</th>
                  <th>发奖时间</th>
                  <th>奖项名称</th>
                  <th>奖项类别</th>
                  <th>操作</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let item of winningInfoTable .data;let i=index">
                  <td>
                    <span>{{item.awardingUnits}}</span>
                  </td>
                  <td>{{item.awardingTime}}</td>
                  <td>{{item.awardName}}</td>
                  <td>{{item.awardLevel}}</td>
                  <td>
                    <a href="#" (click)="modifierwinningInfo(item,$event)">查看</a>
                  
                  </td>
                </tr>
              </tbody>
            </nz-table>
          </nz-card>
        </form>
      </nz-tab>
    </nz-tabset>
  </nz-card>
  
  
  <!-- 添加紧急联系人 弹出框-->
  <nz-modal [(nzVisible)]="personalInfoIsVisible" nzTitle="紧急联系人详情" [nzStyle]="dialogStyle" (nzOnCancel)="personalInfoCancel()"
    (nzOnOk)="personalInfoOk()" nzWidth="600">
    <div nz-row [nzGutter]="24">
      <div nz-col [nzSpan]="24">
        <nz-form-item>
          <nz-form-label [nzSpan]="4">姓名</nz-form-label>
          <nz-form-control [nzSpan]="20">
            <input nz-input maxlength="32" [(ngModel)]="personalInfoObj.name" readonly/>
          </nz-form-control>
        </nz-form-item>
      </div>
  
      <div nz-col [nzSpan]="24">
        <nz-form-item>
          <nz-form-label [nzSpan]="4">联系电话</nz-form-label>
          <nz-form-control [nzSpan]="20">
            <input nz-input maxlength="32" [(ngModel)]="personalInfoObj.phone" readonly/>
          </nz-form-control>
        </nz-form-item>
      </div>
    </div>
    <div nz-row [nzGutter]="24">
      <div nz-col [nzSpan]="24">
        <nz-form-item>
          <nz-form-label [nzSpan]="4">亲属关系</nz-form-label>
          <nz-form-control [nzSpan]="20">
            <nz-select nzShowSearch nzAllowClear nzPlaceHolder="请选择"  nzDisabled style="width:100%" [(ngModel)]="personalInfoObj.domesticCelation">
              <nz-option nzLabel="户主/本人" nzValue="户主/本人"></nz-option>
              <nz-option nzLabel="配偶" nzValue="配偶"></nz-option>
              <nz-option nzLabel="子/婿" nzValue="子/婿"></nz-option>
              <nz-option nzLabel="女/媳" nzValue="女/媳"></nz-option>
              <nz-option nzLabel="孙子女/外孙子女" nzValue="孙子女/外孙子女"></nz-option>
              <nz-option nzLabel="父母/岳父母/公婆" nzValue="父母/岳父母/公婆"></nz-option>
              <nz-option nzLabel="祖父母/外祖父母" nzValue="祖父母/外祖父母"></nz-option>
              <nz-option nzLabel="兄弟姐妹" nzValue="兄弟姐妹"></nz-option>
              <nz-option nzLabel="其他" nzValue="其他"></nz-option>
            </nz-select>
          </nz-form-control>
        </nz-form-item>
      </div>
      <div nz-col [nzSpan]="24">
        <nz-form-item>
          <nz-form-label [nzSpan]="4">备注</nz-form-label>
          <nz-form-control [nzSpan]="20">
            <textarea rows="4" nz-input [(ngModel)]="personalInfoObj.comment" readonly></textarea>
          </nz-form-control>
        </nz-form-item>
      </div>
    </div>
  </nz-modal>
  
  <!-- 添加工作经验 弹出框-->
  <nz-modal [(nzVisible)]="jobInfoIsVisible" nzTitle="工作经验详情" [nzStyle]="dialogStyle" (nzOnCancel)="jobInfoCancel()"
    (nzOnOk)="jobInfoOk()" nzWidth="600">
    <div nz-row [nzGutter]="24">
      <div nz-col [nzSpan]="24">
        <nz-form-item>
          <nz-form-label [nzSpan]="6">入职起止时间</nz-form-label>
          <nz-form-control [nzSpan]="18">
            <nz-range-picker name="jobInfoDate" nzDisabled nzFormat="yyyy-MM-dd" [(ngModel)]="jobInfoDate" (ngModelChange)="onJobInfoChange($event)">
            </nz-range-picker>
          </nz-form-control>
        </nz-form-item>
      </div>
      <!-- <div nz-col [nzSpan]="24">
          <nz-form-item>
            <nz-form-label [nzSpan]="6" >离职时间</nz-form-label>
            <nz-form-control [nzSpan]="18">
                <nz-date-picker  [(ngModel)]="emergencyContactObj.resignationTime" ></nz-date-picker>
            </nz-form-control>
          </nz-form-item>
        </div> -->
  
      <div nz-col [nzSpan]="24">
        <nz-form-item>
          <nz-form-label [nzSpan]="6">所在单位</nz-form-label>
          <nz-form-control [nzSpan]="18">
            <input nz-input maxlength="32" readonly [(ngModel)]="emergencyContactObj.unit" />
          </nz-form-control>
        </nz-form-item>
      </div>
    </div>
    <div nz-row [nzGutter]="24">
      <div nz-col [nzSpan]="24">
        <nz-form-item>
          <nz-form-label [nzSpan]="6">工作岗位及职务</nz-form-label>
          <nz-form-control [nzSpan]="18">
            <textarea rows="4" nz-input [(ngModel)]="emergencyContactObj.operatingPost" readonly></textarea>
          </nz-form-control>
        </nz-form-item>
      </div>
      <div nz-col [nzSpan]="24" style="margin-top: 13px !important;">
        <nz-form-item>
          <nz-form-label [nzSpan]="6">备注</nz-form-label>
          <nz-form-control [nzSpan]="18">
            <textarea rows="4" nz-input [(ngModel)]="emergencyContactObj.commit" readonly></textarea>
          </nz-form-control>
        </nz-form-item>
      </div>
    </div>
  </nz-modal>
  
  <!-- 添加合同信息 -->
  <ng-template #addContractDialogTplTitle>
    <span>合同信息详情</span>
    <button aria-label="Close" class="ant-modal-close ng-star-inserted" (click)="contractInfoCancel()" ><span class="ant-modal-close-x"><i class="anticon ant-modal-close-icon anticon-close"
          nz-icon="" type="close" ng-reflect-type="close"><svg viewBox="64 64 896 896" fill="currentColor" width="1em"
            height="1em" data-icon="close" aria-hidden="true">
            <path d="M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 0 0 203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z"></path>
          </svg></i></span></button>
  </ng-template>
  <ng-template #addContractDialogTplContent>
    <div nz-row [nzGutter]="24">
      <div nz-col [nzSpan]="24">
        <nz-form-item>
          <nz-form-label [nzSpan]="6">合同起止日期</nz-form-label>
          <nz-form-control [nzSpan]="10">
            <nz-range-picker name="selectedDate" nzDisabled nzFormat="yyyy-MM-dd" [(ngModel)]="contractInfoDate" (ngModelChange)="onContractInfoListAllChange($event)"></nz-range-picker>
          </nz-form-control>
        </nz-form-item>
      </div>
    </div>
    <div nz-row [nzGutter]="24">
      <div nz-col [nzSpan]="24">
        <nz-form-item>
          <nz-form-label [nzSpan]="6">说明</nz-form-label>
          <nz-form-control [nzSpan]="10">
            <textarea rows="4" name="comment" nz-input nzDisabled [(ngModel)]="contractInfoObj.comment" disabled></textarea>
          </nz-form-control>
        </nz-form-item>
      </div>
      <div nz-col [nzSpan]="24" >
        <nz-form-item>
          <nz-form-label [nzSpan]="6">合同扫描件</nz-form-label>
          <nz-form-control [nzSpan]="18">
            
            <mirr-image isShowUploadBtn="false" isShowOcrBtn="false" isShowDelBtn="false" [imageUrlStr]="contractInfoImgUrl" #contractInfoImg></mirr-image>
            <!-- <span *ngFor="let item of contractInfoImgUrlList" style="display:inline-block;margin-top:5px;">
                <img  alt="" [src]="item" style="width:60%">
            </span> -->
          </nz-form-control>
        </nz-form-item>
      </div>
    </div>
  </ng-template>
  <ng-template #addContractDialogTplFooter>
    <button nz-button nzType="default" (click)="contractInfoCancel()">取消</button>
    <!-- <button nz-button nzType="primary" (click)="contractInfoOk()" [nzLoading]="addContractLoading">确定</button> -->
  </ng-template>
  
  
  <!-- 添加证书信息 -->
  <ng-template #addCertificateDialogTplTitle>
      <span>证书信息详情</span>
      <button aria-label="Close" class="ant-modal-close ng-star-inserted" (click)="certificateInfoCancel()" ><span class="ant-modal-close-x"><i class="anticon ant-modal-close-icon anticon-close"
            nz-icon="" type="close" ng-reflect-type="close"><svg viewBox="64 64 896 896" fill="currentColor" width="1em"
              height="1em" data-icon="close" aria-hidden="true">
              <path d="M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 0 0 203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z"></path>
            </svg></i></span></button>
    </ng-template>
    <ng-template #addCertificateDialogTplContent>
      <div nz-row [nzGutter]="24">
        <div nz-col [nzSpan]="12">
          <nz-form-item>
            <nz-form-label [nzSpan]="6">资格证书类别</nz-form-label>
            <nz-form-control [nzSpan]="18">
              <input nz-input name="certType" [(ngModel)]="certificateInfoObj.certType" readonly/>
            </nz-form-control>
          </nz-form-item>
        </div>
        <div nz-col [nzSpan]="12">
          <nz-form-item>
            <nz-form-label [nzSpan]="6">资格证书编号</nz-form-label>
            <nz-form-control [nzSpan]="18">
              <input nz-input name="certNumber" [(ngModel)]="certificateInfoObj.certNumber" readonly/>
            </nz-form-control>
          </nz-form-item>
        </div>
        <div nz-col [nzSpan]="12">
          <nz-form-item>
            <nz-form-label [nzSpan]="6">资格证书名称</nz-form-label>
            <nz-form-control [nzSpan]="18">
              <input nz-input name="certName" [(ngModel)]="certificateInfoObj.certName" readonly/>
            </nz-form-control>
          </nz-form-item>
        </div>
        <div nz-col [nzSpan]="12">
          <nz-form-item>
            <nz-form-label [nzSpan]="6">发证时间</nz-form-label>
            <nz-form-control [nzSpan]="18">
              <nz-date-picker nzFormat="yyyy-MM-dd" name="issuingTime" [(ngModel)]="certificateInfoObj.issuingTime" nzDisabled></nz-date-picker>
            </nz-form-control>
          </nz-form-item>
        </div>
        <div nz-col [nzSpan]="12">
          <nz-form-item>
            <nz-form-label [nzSpan]="6">有效期</nz-form-label>
            <nz-form-control [nzSpan]="18">
              <nz-input-number nzDisabled   [(ngModel)]="certificateInfoObj.validity" style="width:100%" name="validity" [nzMin]="1"
                [nzStep]="1"></nz-input-number>
            </nz-form-control>
          </nz-form-item>
        </div>
        <div nz-col [nzSpan]="12">
          <nz-form-item>
            <nz-form-label [nzSpan]="6">发证单位</nz-form-label>
            <nz-form-control [nzSpan]="18">
              <input nz-input name="certOrganName" [(ngModel)]="certificateInfoObj.certOrganName" readonly/>
            </nz-form-control>
          </nz-form-item>
        </div>
      </div>
      <div nz-row [nzGutter]="24">
        <div nz-col [nzSpan]="24" *ngIf="certStatus=='2'">
          <nz-form-item>
            <nz-form-label [nzSpan]="3">证书取消原因</nz-form-label>
            <nz-form-control [nzSpan]="19">
              <textarea rows="4" nz-input name="cancelReason" [(ngModel)]="cancelReason" readonly></textarea>
            </nz-form-control>
          </nz-form-item>
        </div>
        <div nz-col [nzSpan]="24" style="margin-top:10px;">
          <nz-form-item>
            <nz-form-label [nzSpan]="3">备注</nz-form-label>
            <nz-form-control [nzSpan]="19">
              <textarea rows="4" nz-input name="comment" [(ngModel)]="certificateInfoObj.comment" readonly></textarea>
            </nz-form-control>
          </nz-form-item>
        </div>
      </div>
      <div nz-row [nzGutter]="24">
        <div nz-col [nzSpan]="24">
          <nz-form-item>
            <nz-form-label [nzSpan]="3">证书上传</nz-form-label>
            <nz-form-control [nzSpan]="21">
              <mirr-image isShowUploadBtn="false" isShowDelBtn="false" isShowOcrBtn="false" [imageUrlStr]="certificateInfoImgUrl"
                #certificateInfoImg></mirr-image>
                <!-- <span *ngFor="let item of certificateInfoImgUrlList" style="display:inline-block;margin-top:5px;">
                    <img  alt="" [src]="item" style="width:60%">
                </span> -->
            </nz-form-control>
          </nz-form-item>
        </div>
      </div>
    </ng-template>
    <ng-template #addCertificateDialogTplFooter>
      <button nz-button nzType="default" (click)="certificateInfoCancel()">取消</button>
    </ng-template>
  
  
  
  <!-- 添加培训信息 -->
  <nz-modal [(nzVisible)]="trainingInfoIsVisible" nzTitle="培训信息详情" [nzStyle]="dialogStyle" (nzOnCancel)="trainingInfoCancel()"
    (nzOnOk)="trainingInfoOk()" nzWidth="900">
    <div nz-row [nzGutter]="24">
      <div nz-col [nzSpan]="24">
        <nz-form-item>
          <nz-form-label [nzSpan]="6">专业培训时间</nz-form-label>
          <nz-form-control [nzSpan]="12">
            <nz-range-picker name="date" nzDisabled nzFormat="yyyy-MM-dd" [(ngModel)]="trainingInfoDate" (ngModelChange)="onTrainingInfoChange($event)"></nz-range-picker>
          </nz-form-control>
        </nz-form-item>
      </div>
    </div>
    <div nz-row [nzGutter]="24">
      <div nz-col [nzSpan]="24">
        <nz-form-item>
          <nz-form-label [nzSpan]="6">专业培训证书编号</nz-form-label>
          <nz-form-control [nzSpan]="12">
            <input nz-input [(ngModel)]="trainingInfoObj.certNumber" readonly/>
          </nz-form-control>
        </nz-form-item>
      </div>
    </div>
    <div nz-row [nzGutter]="24">
      <div nz-col [nzSpan]="24">
        <nz-form-item>
          <nz-form-label [nzSpan]="6">专业培训证书名称</nz-form-label>
          <nz-form-control [nzSpan]="12">
            <input nz-input name="trainCertName" [(ngModel)]="trainingInfoObj.trainCertName" readonly/>
          </nz-form-control>
        </nz-form-item>
      </div>
    </div>
  
    <div nz-row [nzGutter]="24">
      <div nz-col [nzSpan]="24">
        <nz-form-item>
          <nz-form-label [nzSpan]="6">专业培训单位</nz-form-label>
          <nz-form-control [nzSpan]="12">
            <input nz-input name="trainCertComp" [(ngModel)]="trainingInfoObj.trainCertComp" readonly/>
          </nz-form-control>
        </nz-form-item>
      </div>
    </div>
    <div nz-row [nzGutter]="24">
      <div nz-col [nzSpan]="24">
        <nz-form-item>
          <nz-form-label [nzSpan]="6">专业培训累计学分</nz-form-label>
          <nz-form-control [nzSpan]="12">
            <input nz-input name="credits" [(ngModel)]="trainingInfoObj.credits" readonly style="width:100%"/>
          </nz-form-control>
        </nz-form-item>
      </div>
    </div>
  
    <div nz-row [nzGutter]="24">
      <div nz-col [nzSpan]="24">
        <nz-form-item>
          <nz-form-label [nzSpan]="6">备注</nz-form-label>
          <nz-form-control [nzSpan]="12">
            <textarea rows="4" nz-input name="comment" [(ngModel)]="trainingInfoObj.comment" readonly></textarea>
          </nz-form-control>
        </nz-form-item>
      </div>
    </div>
  </nz-modal>
  
  <!-- 添加获奖信息 -->
  <nz-modal [(nzVisible)]="winningInfoIsVisible" nzTitle="获奖信息详情" [nzStyle]="dialogStyle" (nzOnCancel)="winningInfoCancel()"
    (nzOnOk)="winningInfoOk()" nzWidth="700">
    <div nz-row [nzGutter]="24">
      <div nz-col [nzSpan]="24">
        <nz-form-item>
          <nz-form-label [nzSpan]="4">发奖时间</nz-form-label>
          <nz-form-control [nzSpan]="20">
            <nz-date-picker style="width:100%" [(ngModel)]="winningInfoObj.awardingTime" nzDisabled></nz-date-picker>
          </nz-form-control>
        </nz-form-item>
      </div>
      <div nz-col [nzSpan]="24">
        <nz-form-item>
          <nz-form-label [nzSpan]="4">发奖单位</nz-form-label>
          <nz-form-control [nzSpan]="20">
            <input nz-input [(ngModel)]="winningInfoObj.awardingUnits" readonly/>
          </nz-form-control>
        </nz-form-item>
      </div>
  
  
  
      <div nz-col [nzSpan]="24">
        <nz-form-item>
          <nz-form-label [nzSpan]="4">奖项名称</nz-form-label>
          <nz-form-control [nzSpan]="20">
            <input nz-input [(ngModel)]="winningInfoObj.awardName" readonly/>
          </nz-form-control>
        </nz-form-item>
      </div>
      <div nz-col [nzSpan]="24">
        <nz-form-item>
          <nz-form-label [nzSpan]="4">奖项类别</nz-form-label>
          <nz-form-control [nzSpan]="20">
            <input nz-input [(ngModel)]="winningInfoObj.awardLevel" readonly/>
          </nz-form-control>
        </nz-form-item>
      </div>
    </div>
    <div nz-row [nzGutter]="24">
      <div nz-col [nzSpan]="24">
        <nz-form-item>
          <nz-form-label [nzSpan]="4">备注</nz-form-label>
          <nz-form-control [nzSpan]="20">
            <textarea rows="4" nz-input [(ngModel)]="winningInfoObj.comment" readonly></textarea>
          </nz-form-control>
        </nz-form-item>
      </div>
    </div>
  </nz-modal>
  