<nz-card nzTitle="班次模板" [nzExtra]="extraTemplate">
  <form nz-form [formGroup]="validateForm">
    <div nz-row>
      <nz-form-item>
        <nz-form-label [nzSpan]="4" nzFor="shift" nzRequired style="text-align: left !important;">模板名称</nz-form-label>
        <nz-form-control [nzSpan]="20">
          <input nz-input id="shift" formControlName="shift">
          <nz-form-explain *ngIf="validateForm.get('shift').dirty && validateForm.get('shift').errors">模板名称不能为空</nz-form-explain>
        </nz-form-control>
      </nz-form-item>
    </div>
  </form>
  <ng-template #btnAddBanci>
    <button nz-button nzType="dashed" (click)="addBanci($event)">
      <i class="anticon anticon-plus"></i> 添加班次</button>
  </ng-template>
  <nz-card nzType="inner" nzTitle="班次详情" [nzExtra]="btnAddBanci">
    <nz-table #banciTable [nzData]="infos" [nzHideOnSinglePage]="true">
      <thead>
        <tr>
          <th>班次名称</th>
          <th>上班时间</th>
          <th>下班时间</th>
          <th>操作</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let data of banciTable.data; let num = index">
          <td>
            <input nz-input [(ngModel)]="data.name">
          </td>
          <td>
            <nz-time-picker [(ngModel)]="data.btimePicker" nzFormat="HH:mm"></nz-time-picker>
          </td>
          <td>
            <nz-time-picker [(ngModel)]="data.etimePicker" nzFormat="HH:mm"></nz-time-picker>
          </td>
          <td>
            <a href="javascript:void(0)" (click)="delBanci(data)" class="colorF81D22">删除</a>
          </td>
        </tr>
      </tbody>
    </nz-table>
  </nz-card>
  <div style="text-align:center;margin-top: 30px;">
    <button class="saveBtn" nz-button nzType="primary" nzSize="large" (click)="onSubmit()" [nzLoading]="isSaveBtnLoading">保存</button>
  </div>
</nz-card>
<ng-template #extraTemplate>
  <button nz-button nzType="default" (click)="back()">返回</button>
</ng-template>